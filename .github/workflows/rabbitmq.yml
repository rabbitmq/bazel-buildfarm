name: Build and Push RabbitMQ Buildfarm Worker Images

on:
  push:
    branches:
      - rabbitmq-2.8.0
jobs:
  build:
    name: Build RabbitMQ Buildfarm Worker Image
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

    #   - name: Login to Bazelbuild Docker Hub
    #     uses: docker/login-action@v3
    #     with:
    #       username: ${{ secrets.BAZELBUILD_DOCKERHUB_USERNAME }}
    #       password: ${{ secrets.BAZELBUILD_DOCKERHUB_TOKEN }}

      - name: Build Docker image
        run: |
          bazel run //rabbitmq:buildfarm-shard-worker-rabbitmq-server-buildenv
